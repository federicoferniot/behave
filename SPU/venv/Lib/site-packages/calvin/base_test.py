"""
Base test module
"""
from nose2.compat import unittest
from selenium import webdriver
from selenium.webdriver.chrome.options import Options


class BaseTest(unittest.TestCase):
    """
    Basic test case
    """
    HEADLESS_CHROME = 'headless_chrome'
    CHROME = 'chrome'
    FIREFOX = 'firefox'

    def driver_set_up(self, driver, url):
        """
        Initialize the selenium webdriver using a page url

        :param driver: name of the web navigator
        :param url: Url of a web page
        :return: A selenium webdriver
        :rtype: webdriver
        """
        hidden = False
        chrome_options = Options()
        if driver == self.HEADLESS_CHROME:
            driver = self.CHROME
            chrome_options.add_argument('--headless')
            hidden = True
        init_driver = {self.CHROME: webdriver.Chrome,\
                       self.FIREFOX: webdriver.Firefox}
        if hidden:
            self.driver = init_driver[driver.lower()](chrome_options=chrome_options)
        else:
            self.driver = init_driver[driver.lower()]()
        self.url = url
        self.driver.get(self.url)
        return self.driver

    def close_driver(self):
        """
        close the selenium webdriver
        """
        self.driver.close()
